+++
date = "2016-05-11T21:05:12+08:00"
summary = "关于赣州统计信息网前端页面的重构"
title = "关于赣州统计信息网前端页面的重构"

+++

[赣州统计信息网](http://www.gztj.gov.cn/)是赣州统计局的官方网站。2014年大学同学介绍做的私下项目，当时对于构建web还只是菜鸟级别(现在稍微有点长进)。

后台按要求使用Java实现，摒弃了jsp，前端是纯粹的html，数据交互使用ajax。

这个网站主要是发布新闻资讯，解答访问者的咨询，公布一些信息。文章发布是核心，大约占据了90%的网站内容。因此提供了一个管理者后台，方便对栏目文章的管理。

![管理者后台](/img/content/gztjjweb/1.png)

![管理者后台](/img/content/gztjjweb/2.png)

样式使用流行的bootstrap，文本编辑器使用百度的[UEditor](http://ueditor.baidu.com/website/)，整体风格还可以。网站前台页面做的有些欠缺，这是当时的风格：

![网站页面](/img/content/gztjjweb/3.png)

主要有以下弊端：

1. 首页有时白屏，对于获取每个类型的文章信息，都有一次ajax请求，导致请求过多； 
2. 固定宽度布局，非响应式；
3. 每个页面的菜单、底部友情链接代码是一样的；当有改动的时候，每个页面都要改，维护麻烦；
4. 页面样式粗放；
5. js插件及css加载过多，未做优化；
6. 缺少UV统计，虽然网站浏览量不多；
7. 文章打印效果不行。

针对上面的问题，重构了整个网站页面，主要有以下改进：

1.后台使用储存过程，一次性将首页需要的不同类型的文章信息加载出来。在良好的网络环境下，加载一百多篇文章(除去了内容)信息只花了286ms；而之前是分成十多次请求才完成；

![网站页面](/img/content/gztjjweb/4.png)

2.页面改成响应式布局，最大是1440px，最小是320px的布局；

<img src="/img/content/gztjjweb/5.png" alt="网站页面" style="width:100%;max-width:360px"/>

3.使用gulp自动化构建工具；样式使用sass全部重写；图标转成base64形式，进一步减少请求；
![网站页面](/img/content/gztjjweb/9.png)

4.js插件加载优化。首页的图表组件、高德地图API都是延迟加载；

5.赣州地图旧版是用flex/flash做出来的，现改用高德地图实现，更清晰的感觉；

![网站页面](/img/content/gztjjweb/6.png)

6.为网站增加了百度统计；

![网站页面](/img/content/gztjjweb/7.png)

7.改进了文章的打印效果；

![网站页面](/img/content/gztjjweb/8.png)

网站的优化是一个长久的过程，目前来说页面还有很多可以改进的地方，留待以后继续...















